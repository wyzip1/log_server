import{c as e,a as t,p as o,b as a,r as n,u as r,d as s,E as c,e as l,o as i,f as u,g as p,h as d,w as _,i as m,F as h,j as g}from"./vendor.da39e7fd.js";let f;const v={},E=function(e,t){if(!t)return e();if(void 0===f){const e=document.createElement("link").relList;f=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in v)return;v[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const a=document.createElement("link");return a.rel=t?"stylesheet":f,t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise(((e,t)=>{a.addEventListener("load",e),a.addEventListener("error",t)})):void 0}))).then((()=>e()))},I=[{path:"/",component:()=>E((()=>import("./Home.ec78ac71.js")),["/assets/Home.ec78ac71.js","/assets/Home.8c774662.css","/assets/vendor.da39e7fd.js","/assets/chapter.13c42637.js","/assets/util.cdae3ab6.js","/assets/type.90d2ee65.js","/assets/Button.5ceeb0fb.js","/assets/Button.cbc669bf.css","/assets/Pagination.f32cf4df.js","/assets/Pagination.bbc60dfc.css"])},{path:"/login",component:()=>E((()=>import("./Login.b9e3df84.js")),["/assets/Login.b9e3df84.js","/assets/Login.da73d13d.css","/assets/vendor.da39e7fd.js","/assets/Button.5ceeb0fb.js","/assets/Button.cbc669bf.css","/assets/util.cdae3ab6.js"])},{path:"/center",name:"center",component:()=>E((()=>import("./Center.11881c40.js")),["/assets/Center.11881c40.js","/assets/vendor.da39e7fd.js"]),redirect:"/center/user",children:[{path:"edit",name:"edit",component:()=>E((()=>import("./EditDoc.8ca85794.js")),["/assets/EditDoc.8ca85794.js","/assets/EditDoc.caad666c.css","/assets/vendor.da39e7fd.js","/assets/index.3f82e5e8.js","/assets/Button.5ceeb0fb.js","/assets/Button.cbc669bf.css","/assets/type.90d2ee65.js","/assets/util.cdae3ab6.js","/assets/chapter.13c42637.js"])},{path:"user",name:"user",component:()=>E((()=>import("./User.afe697e6.js")),["/assets/User.afe697e6.js","/assets/User.ceb9775a.css","/assets/vendor.da39e7fd.js","/assets/chapter.13c42637.js","/assets/util.cdae3ab6.js","/assets/type.90d2ee65.js","/assets/Button.5ceeb0fb.js","/assets/Button.cbc669bf.css","/assets/Pagination.f32cf4df.js","/assets/Pagination.bbc60dfc.css"])}]},{path:"/log",name:"log",component:()=>E((()=>import("./Log.980e77c4.js")),["/assets/Log.980e77c4.js","/assets/Log.3478caf9.css","/assets/vendor.da39e7fd.js","/assets/chapter.13c42637.js","/assets/util.cdae3ab6.js","/assets/Button.5ceeb0fb.js","/assets/Button.cbc669bf.css","/assets/Pagination.f32cf4df.js","/assets/Pagination.bbc60dfc.css"])},{path:"/article/:id",name:"article",component:()=>E((()=>import("./Article.15202fae.js")),["/assets/Article.15202fae.js","/assets/Article.8b890d66.css","/assets/vendor.da39e7fd.js","/assets/index.3f82e5e8.js","/assets/chapter.13c42637.js","/assets/util.cdae3ab6.js"])}],L=new e({history:t(),routes:I});const k=_();o("data-v-1bcc1d98");const y=m("首页"),O=m("我的日志"),S=m("个人中心"),j=m("登录");a();const P={expose:[],setup(e){const t=n(!1),o=r(),a=s();function _(){localStorage.setItem("token","");let e=JSON.parse(localStorage.getItem("userInfo"));e.isLogin=!1,localStorage.setItem("userInfo",JSON.stringify(e)),t.value=!1,(o.path.includes("/center")||"/log"===o.path)&&a.replace("/login")}return a.beforeEach((async function(e,o,n){if("/login"===e.path)return n();try{let o=JSON.parse(localStorage.getItem("userInfo")||"[]"),{data:n}=await c.post("/auth");n.status&&(null==o?void 0:o.isLogin)?_():(null==o?void 0:o.isLogin)?t.value=!0:"/log"!==e.path&&"/center"!==e.path||a.replace("/")}catch(r){console.log("本地存储用户信息异常，执行清空，请重新登陆"),t.value=!1,localStorage.setItem("userInfo","")}n()})),(e,o)=>{const a=l("router-link");return i(),u("nav",null,[p(a,{to:"/","active-class":"active"},{default:k((()=>[y])),_:1}),t.value?(i(),u(a,{key:0,to:"/log","active-class":"active"},{default:k((()=>[O])),_:1})):d("",!0),t.value?(i(),u(a,{key:1,to:"/center/user","active-class":"active"},{default:k((()=>[S])),_:1})):(i(),u(a,{key:2,to:"/login","active-class":"active"},{default:k((()=>[j])),_:1})),t.value?(i(),u("button",{key:3,onClick:_},"退出")):d("",!0)])}},__scopeId:"data-v-1bcc1d98"},A={expose:[],setup:e=>(e,t)=>{const o=l("router-view");return i(),u(h,null,[p(P),p(o)],64)}};c.interceptors.request.use((e=>(e.headers.authorization=localStorage.getItem("token"),e))),g(A).use(L).mount("#app");
