import{x as n,y as N,d as V,r as i,o as m,g as C,i as I,h as o,w as s,C as A,F,z as S,k as q,q as c,B as E,m as M}from"./vendor.604b4b01.js";import{a as P,d as G}from"./chapter.a1872eec.js";import{g as H}from"./type.6dadbe3f.js";import{_ as J,g as O,f as b}from"./index.ab2eedc5.js";const Q={class:"content"},W={class:"search"},X=c(" \u5168\u90E8 "),Y=c(" \u67E5\u8BE2 "),Z={class:"actions"},ee=c("\u67E5\u770B"),te=c(" \u7F16\u8F91 "),ae=c(" \u5220\u9664 "),ne={setup(oe){const k=O(),f=n(1),v=n(0),g=n([]),h=n(),p=n(""),y=n([]),d=n(!1),T=n(),w=n([{title:"\u6807\u9898",dataIndex:"title",align:"center"},{title:"\u7B80\u4ECB",dataIndex:"briefIntroduction",width:260,ellipsis:!0},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"formatUpdateTime",align:"center",slots:{customRender:"updateTime"}},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"formatCreateTime",align:"center",slots:{customRender:"createTime"}},{title:"\u7C7B\u578B",dataIndex:"type.name",align:"center"},{title:"\u64CD\u4F5C",align:"center",dataIndex:"name",width:245,slots:{customRender:"action"}}]);N(()=>{H().then(e=>{g.value=e.data}),r()});function r(e=1){d.value=!0,P({userId:k.id,page:e,size:10,typeId:h.value,title:p.value}).then(a=>{y.value=a.data.docs.map(l=>(l.formatUpdateTime=b(l.updateTime),l.formatCreateTime=b(l.createTime),l)),v.value=a.data.total_page}).finally(()=>d.value=!1)}const x=V();function B(e){x.push("/article/"+e._id)}function $(e){x.push("/center/edit?chapterId="+e._id)}function j(e){G({chapterId:e._id}).then(a=>{console.log(a.data),M.success(a.msg),r()})}function D(e){h.value=e}function L(e){f.value=e,r(e)}return(e,a)=>{const l=i("a-select-option"),R=i("a-select"),U=i("a-input-search"),u=i("a-button"),z=i("a-popconfirm"),K=i("a-table");return m(),C("div",Q,[I("div",W,[o(R,{"default-value":null,style:{width:"150px"},onChange:D},{default:s(()=>[o(l,{value:null},{default:s(()=>[X]),_:1}),(m(!0),C(F,null,S(g.value,t=>(m(),q(l,{value:t._id,key:t._id},{default:s(()=>[c(E(t.name),1)]),_:2},1032,["value"]))),128))]),_:1}),o(U,{value:p.value,"onUpdate:value":a[0]||(a[0]=t=>p.value=t),onKeydown:a[1]||(a[1]=A(t=>r(),["enter"]))},null,8,["value"]),o(u,{type:"primary",onClick:a[2]||(a[2]=t=>r()),loading:d.value},{default:s(()=>[Y]),_:1},8,["loading"])]),o(K,{ref:(t,_)=>{_.table=t,T.value=t},bordered:"",columns:w.value,"data-source":y.value,rowKey:"_id",class:"tableData",loading:d.value,pagination:{current:f.value,pageSize:10,total:v.value,onChange:L}},{action:s(({record:t})=>[I("div",Z,[o(u,{onClick:_=>B(t)},{default:s(()=>[ee]),_:2},1032,["onClick"]),o(u,{type:"primary",onClick:_=>$(t)},{default:s(()=>[te]),_:2},1032,["onClick"]),o(z,{title:"\u786E\u5B9A\u5220\u9664\u6B64\u6587\u7AE0\uFF1F","ok-text":"\u786E\u5B9A","cancel-text":"\u53D6\u6D88",onConfirm:_=>j(t)},{default:s(()=>[o(u,{danger:"",type:"primary"},{default:s(()=>[ae]),_:1})]),_:2},1032,["onConfirm"])])]),_:1},8,["columns","data-source","loading","pagination"])])}}};var re=J(ne,[["__scopeId","data-v-16491e73"]]);export{re as default};
